import{r as o,j as e,m,Q as k,R as V,T as X,V as B,Y as G,_ as Y,$ as _,a0 as J,a1 as K,l as A,a2 as Z,a3 as ee,a4 as se,a5 as R,a6 as te,a7 as ae,a8 as re,a9 as le,aa as ie,ab as L,ac as ne,u as oe,ad as ce,ae as de,k as me,af as xe,L as pe,A as he,ag as ge,ah as ue,ai as be,i as M}from"./index-CmGqtISQ.js";import{M as fe}from"./MessagesSendingRecieving-BvcDKIap.js";const je=({stage:a,onClientConfirm:d})=>{const[x,t]=o.useState(!1),[r,n]=o.useState(""),N=()=>{t(!0)},l=()=>{t(!1),n("")},p=()=>{d(a.name,r,!0),l()},v=()=>{d(a.notify.stageDetails.stageName,r,!1),l()};return e.jsxs(m.div,{className:"max-w-full mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[a.notify&&e.jsxs(m.div,{className:"p-4 sm:p-5 md:p-6 bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 shadow-xl",whileHover:{scale:1.02},children:[e.jsxs("div",{className:"flex flex-col items-center text-center mb-4",children:[e.jsx(k,{className:"w-6 sm:w-8 h-6 sm:h-8 text-amber-400 mb-2"}),e.jsx("h1",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-amber-400 to-orange-500 bg-clip-text text-transparent",children:"Admin Notification"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-2 sm:p-3 bg-white/5 rounded-lg",children:[e.jsx(V,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{className:"text-gray-200 text-sm sm:text-base",children:a.notify.message})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 sm:p-3 bg-white/5 rounded-lg",children:[e.jsx(X,{className:"w-5 h-5 text-purple-400"}),e.jsx("span",{className:"text-gray-300 text-xs sm:text-sm",children:new Date(a.notify.sentAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 sm:p-3 bg-white/5 rounded-lg",children:[e.jsx(B,{className:"w-5 h-5 text-green-400"}),e.jsxs("span",{className:"text-gray-200 flex flex-wrap",children:[a.notify.stageDetails.stageName,e.jsx("span",{className:`ml-2 px-2 py-1 text-xs sm:text-sm text-center rounded-full ${a.notify.stageDetails.isCompleted?"bg-green-500/20 text-green-400":"bg-amber-500/20 text-amber-400"}`,children:a.notify.stageDetails.isCompleted?"Completed":"In Progress"})]})]})]}),e.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:N,className:`mt-6 w-full bg-gradient-to-r from-blue-500 to-cyan-600 text-white py-3 rounded-xl\r
             hover:from-blue-400 hover:to-cyan-500 transition-all flex items-center justify-center gap-2 text-sm sm:text-base`,children:[e.jsx(G,{className:"w-4 sm:w-5 h-4 sm:h-5"}),"Respond to Notification"]})]}),x&&e.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 flex items-center justify-center bg-black/40 backdrop-blur-lg z-50 p-4",children:e.jsxs(m.div,{initial:{scale:.95},animate:{scale:1},className:"bg-white/10 border border-white/20 rounded-2xl p-5 sm:p-6 w-full max-w-sm sm:max-w-md shadow-2xl relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Y,{className:"w-7 sm:w-8 h-7 sm:h-8 text-cyan-400"}),e.jsx("h2",{className:"text-lg sm:text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Confirm Stage Approval"})]}),e.jsx("textarea",{className:`w-full p-2 sm:p-3 bg-white/5 backdrop-blur-sm rounded-xl border border-white/20\r
               focus:outline-none focus:ring-2 focus:ring-cyan-500 text-gray-200 placeholder-gray-400\r
               transition-all text-sm sm:text-base`,placeholder:"Enter your message (optional)",value:r,onChange:y=>n(y.target.value),rows:"3"}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-4 sm:px-5 py-2 rounded-xl bg-gradient-to-r from-green-500 to-emerald-600\r
                 hover:from-green-400 hover:to-emerald-500 flex items-center gap-2 text-xs sm:text-sm`,onClick:p,children:[e.jsx(_,{className:"w-4 sm:w-5 h-4 sm:h-5"}),"Approve"]}),e.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-4 sm:px-5 py-2 rounded-xl bg-gradient-to-r from-red-500 to-rose-600\r
                 hover:from-red-400 hover:to-rose-500 flex items-center gap-2 text-xs sm:text-sm`,onClick:v,children:[e.jsx(J,{className:"w-4 sm:w-5 h-4 sm:h-5"}),"Reject"]})]}),e.jsx("button",{className:"absolute top-4 right-4 p-1 text-gray-400 hover:text-gray-200 transition-colors",onClick:l,children:e.jsx(K,{className:"w-6 h-6"})})]})})]})},Ne=({project:a,activeStage:d,setActiveStage:x})=>e.jsx("div",{className:"flex flex-wrap justify-center gap-5 mb-8 px-4",children:a.stages.map(t=>{const r=d===t._id,n=t.status==="notStarted",N=t==null?void 0:t.canStart,l=t.isCompleted,p=!n&&!r;return e.jsxs("button",{onClick:()=>x(t._id),disabled:n,className:`
          relative overflow-hidden isolate
          flex flex-col items-center 
          px-8 py-6 rounded-2xl 
          transition-all duration-500
          shadow-[0_8px_32px_rgba(0,0,0,0.15)]
          ${n?"opacity-50 grayscale cursor-not-allowed":"hover:shadow-[0_12px_48px_rgba(0,0,0,0.25)]"}
          ${r?"bg-gradient-to-br from-purple-600 via-pink-600 to-orange-600 scale-105":"bg-gray-900"}
          ${p&&"hover:scale-[1.02]"}
        `,children:[!n&&e.jsx("div",{className:"absolute inset-0 opacity-20 mix-blend-soft-light bg-[radial-gradient(circle_at_center,#fff,transparent)] group-hover:animate-pulse"}),e.jsx("span",{className:`
          mb-3 font-semibold text-sm uppercase tracking-wider
          transition-colors duration-300
          ${r?"text-white drop-shadow-md":"text-gray-400"}
          ${n&&"line-through"}
        `,children:t.name}),e.jsx("div",{className:`
          relative text-4xl transition-all duration-300
          ${r?"scale-110":"scale-100"}
          ${p&&"group-hover:scale-105"}
        `,children:N?l?e.jsxs("div",{className:"relative",children:[e.jsx(A,{icon:Z,className:"text-green-400 animate-[bounce_1s_ease-in-out_infinite]"}),e.jsx("div",{className:"absolute inset-0 rounded-full shadow-glow-green"})]}):e.jsxs("div",{className:"relative",children:[e.jsx(A,{icon:ee,className:`${r?"text-white":"text-purple-400"}`}),r&&e.jsx("div",{className:"absolute inset-0 rounded-full animate-glow-pulse"})]}):e.jsx(A,{icon:se,className:"text-red-400 animate-[vibrate_0.3s_ease-in-out_infinite]"})}),!n&&e.jsx("div",{className:"absolute -right-6 h-[2px] w-12 bg-gradient-to-r from-transparent via-gray-600 to-transparent"}),!n&&e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e.jsx("div",{className:"absolute -inset-12 rotate-12 bg-[linear-gradient(45deg,transparent_25%,rgba(255,255,255,0.1)_50%,transparent_75%)] opacity-0 group-hover:opacity-100 group-hover:animate-shine"})})]},t._id)})}),ve=({stage:a,handleApproveMaterial:d,loadingapprovematerial:x})=>e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-green-400 to-cyan-500 bg-clip-text text-transparent",children:"Materials"}),e.jsx("div",{className:"grid gap-3 mt-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:a.materials.map((t,r)=>e.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:r*.1},className:`group relative p-3 sm:p-4 md:p-5 bg-white/5 backdrop-blur-lg rounded-xl shadow-lg\r
       border border-white/10 hover:border-white/20 transition-all`,children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-white/10 rounded-lg",children:t.isApproved?e.jsx(_,{className:"w-6 h-6 text-green-400"}):e.jsx(R,{className:"w-6 h-6 text-amber-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-100",children:t.name}),e.jsxs("p",{className:"text-gray-400 text-sm sm:text-base mt-1",children:["Quantity: ",t.quantity]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs sm:text-sm font-medium ${t.isApproved?"bg-green-500/20 text-green-400":"bg-amber-500/20 text-amber-400"}`,children:t.isApproved?"Approved":"Pending"}),!t.isApproved&&e.jsxs(m.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(a.name,t._id),disabled:x[t._id],className:`bg-gradient-to-r from-cyan-500 to-blue-600 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg\r
                 hover:from-cyan-400 hover:to-blue-500 transition-all flex items-center gap-2 text-xs sm:text-sm`,children:[e.jsx(te,{className:"w-4 h-4"}),x[t._id]?e.jsx(ae,{}):"Approve"]})]})]}),e.jsx("div",{className:`absolute inset-0 rounded-xl pointer-events-none\r
          group-hover:bg-gradient-to-r from-cyan-500/10 to-blue-500/10\r
          transition-opacity opacity-0 group-hover:opacity-100`})]},t._id))})]}),we=re.memo(({stage:a})=>{const[d,x]=o.useState([]),[t,r]=o.useState(!0),n=o.useMemo(()=>(a==null?void 0:a.updates)||[],[a]);o.useEffect(()=>{r(!0);const l=setTimeout(()=>{x(n.slice(0,5)),r(!1)},1e3);return()=>clearTimeout(l)},[n]);const N=()=>{r(!0);const l=setTimeout(()=>{x(p=>[...p,...n.slice(p.length,p.length+5)]),r(!1)},1e3);return()=>clearTimeout(l)};return e.jsxs("div",{className:"grid gap-6 mt-6",children:[d.length>0?d.map((l,p)=>{var v,y,C;return e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:p*.1},className:"group relative p-6 bg-white/10 backdrop-blur-lg rounded-2xl shadow-lg border border-white/10 hover:border-white/20 transition-all hover:shadow-xl",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"h-8 w-1.5 bg-gradient-to-b from-blue-400 to-purple-500 rounded-full mr-4"}),e.jsx("h4",{className:"text-2xl font-bold text-blue-400",children:new Date(l.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric"})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(R,{className:"w-6 h-6 text-purple-400"}),e.jsx("h5",{className:"font-semibold text-xl text-gray-100",children:"Materials Used"})]}),((v=l.materialsUsed)==null?void 0:v.length)>0?e.jsx("div",{className:"grid gap-3",children:l.materialsUsed.map((h,g)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/10 rounded-xl hover:bg-white/20 transition-colors",children:[e.jsx("span",{className:"text-gray-100 font-medium",children:h.name}),e.jsxs("span",{className:"text-blue-300 font-semibold",children:[h.quantity||"N/A"," Qty"]})]},g))}):e.jsxs("div",{className:"p-4 bg-white/10 rounded-xl flex items-center gap-3",children:[e.jsx(k,{className:"w-6 h-6 text-yellow-400"}),e.jsx("span",{className:"text-gray-300",children:"No materials recorded"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(le,{className:"w-6 h-6 text-green-400"}),e.jsx("h5",{className:"font-semibold text-xl text-gray-100",children:"Workers"})]}),((y=l.workers)==null?void 0:y.length)>0?e.jsx("div",{className:"grid gap-4",children:l.workers.map((h,g)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/10 rounded-xl hover:bg-white/20 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center",children:e.jsx(ie,{className:"w-5 h-5 text-blue-400"})}),e.jsx("span",{className:"text-gray-100",children:h.name})]}),e.jsxs("span",{className:"text-green-300 font-semibold",children:["Rs-",h.dailyWage]})]},g))}):e.jsxs("div",{className:"p-4 bg-white/10 rounded-xl flex items-center gap-3",children:[e.jsx(k,{className:"w-6 h-6 text-yellow-400"}),e.jsx("span",{className:"text-gray-300",children:"No workers recorded"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(L,{className:"w-6 h-6 text-green-400"}),e.jsx("h5",{className:"font-semibold text-xl text-gray-100",children:"Image"})]}),((C=l.image)==null?void 0:C.length)>0?e.jsx("div",{className:"grid gap-4",children:l.image.map((h,g)=>e.jsx("div",{className:"flex items-center justify-between p-4 bg-white/10 rounded-xl hover:bg-white/20 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center",children:e.jsx(L,{className:"w-5 h-5 text-blue-400"})}),e.jsx("img",{className:"w-16 h-16 rounded-lg object-cover",src:h,alt:"image does'nt exist request for image",loading:"lazy"})]})},g))}):e.jsxs("div",{className:"p-4 bg-white/10 rounded-xl flex items-center gap-3",children:[e.jsx(ne,{className:"w-6 h-6 text-yellow-400"}),e.jsx("span",{className:"text-gray-300",children:"No image added"})]})]}),e.jsx("div",{className:`absolute inset-0 rounded-2xl pointer-events-none\r
                  group-hover:bg-gradient-to-r from-blue-500/10 to-purple-500/10\r
                  transition-opacity opacity-0 group-hover:opacity-100`})]},p)}):e.jsxs("div",{className:"p-8 text-center bg-white/10 rounded-2xl",children:[e.jsx(k,{className:"w-10 h-10 text-red-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-300 text-xl",children:"No details were added, or work has not started."})]}),t&&e.jsx("div",{className:"p-8 text-center bg-white/10 rounded-2xl",children:e.jsx("p",{className:"text-gray-300 text-xl",children:"Loading..."})}),d.length<n.length&&e.jsx("button",{onClick:N,className:"p-4 bg-blue-500/10 text-blue-400 rounded-xl hover:bg-blue-500/20 transition-colors font-semibold",children:"Load More"})]})}),ke=()=>{oe();const{projects:a,fetchProject:d,electricaURL:x}=ce(),{projectId:t}=de(),[r,n]=o.useState(null),[N,l]=o.useState(!0),[p,v]=o.useState({}),[y,C]=o.useState(!1),[h,g]=o.useState(""),[F,E]=o.useState(""),[P,D]=o.useState(""),[S,w]=o.useState(null),[$,T]=o.useState(null),[I,H]=o.useState([]),[q,O]=o.useState([]);o.useEffect(()=>{const s=()=>{var b,i;if(!Array.isArray(a)){g("Invalid project data. Please refresh the page."),l(!1);return}const c=a.find(f=>f._id===t);if(!c){g("Project not found.");return}c.stages.every(f=>f.isCompleted)&&C(!0),n(c),H(c.clientMessages),O(c.adminMessages),T(((i=(b=c.stages)==null?void 0:b[0])==null?void 0:i._id)||null),g(""),l(!1)};setTimeout(()=>s(),1800)},[a,t]);const z=async(s,c)=>{v(u=>({...u,[c]:!0}));try{(await M.post(`${x}/api/auth/approve-material`,{stageName:s,projectId:t,materialId:c},{withCredentials:!0})).status===200&&(E("Material approved successfully!"),n(b=>({...b,stages:b.stages.map(i=>i.name===s?{...i,materials:i.materials.map(f=>f._id===c?{...f,isApproved:!0}:f)}:i)})),d())}catch{g("Failed to approve material. Please try again.")}finally{v(u=>({...u,[c]:!1}))}},Q=async()=>{var s,c,u,b;try{const i=await M.post(`${x}/api/auth/messageAdmin`,{projectId:t,message:P},{withCredentials:!0});i.status===200?(w({type:i.data.type,message:i.data.message}),D(""),d()):w({type:i.data.type,message:i.data.message})}catch(i){g("Failed to send message. Please try again."),w({type:(c=(s=i.response)==null?void 0:s.data)==null?void 0:c.type,message:(b=(u=i.response)==null?void 0:u.data)==null?void 0:b.message})}},W=async(s,c,u)=>{var b,i,f,U;try{const j=await M.post(`${x}/api/auth/client-confirmation`,{projectId:t,stageName:s,clientConfirmed:u,emergencyMessage:c,startDate:Date.now()},{withCredentials:!0});j.status===200?(w({type:j.data.type,message:j.data.message}),d()):w({type:j.data.type,message:j.data.message})}catch(j){w({type:(i=(b=j.response)==null?void 0:b.data)==null?void 0:i.type,message:(U=(f=j.response)==null?void 0:f.data)==null?void 0:U.message})}};return N?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(me,{})}):h?e.jsx("p",{className:"text-red-500 text-center text-2xl bg-gray-800 min-h-screen flex items-center justify-center",children:h}):e.jsxs("div",{className:"relative top-12 mb-8 text-white md:p-6 p-0 min-h-screen",children:[e.jsxs("button",{className:"mb-4 p-3 flex items-center justify-center",title:"Go back",children:[e.jsx(A,{icon:xe,size:"lg"}),e.jsxs(e.Fragment,{children:[e.jsx(pe,{to:-1,className:"text-gray-200 ml-2",children:"checkProject"})," ","/",e.jsx("span",{className:"text-gray-600",children:"project"})]})]}),S&&e.jsx(he,{type:S.type,message:S.message,onClose:w(null)}),e.jsxs("div",{className:"md:container mx-auto w-full md:p-8 p-4 relative",children:[e.jsx(fe,{messageUser:I,setMessage:D,message:P,messageAdmin:q,sendMessageToAdmin:Q}),y&&e.jsx("div",{className:"iscompleted w-2 h-2 bg-green-500 rounded-full absolute top-2 left-2",title:"project complete"}),e.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Project Stages"}),e.jsx(Ne,{project:r,activeStage:$,setActiveStage:T}),r.stages.map(s=>$===s._id?e.jsxs("div",{className:"bg-gray-900/10 rounded-3xl shadow-lg md:p-6 p-4",children:[e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(m.h2,{initial:{y:-20},animate:{y:0},className:"md:text-3xl text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:s.name}),e.jsxs("p",{className:"mt-2 text-lg text-gray-300",children:["Main Material:"," ",e.jsx("span",{className:"font-medium text-cyan-300",children:s.mainMaterial||"N/A"}),r.billRequired&&e.jsx("span",{className:"text-green-500 text-xl font-bold",children:"Check your project bill was added by admin and review"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(m.div,{whileHover:{y:-5},className:"p-4 sm:p-5 md:p-6 bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 hover:border-white/20 transition-all",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-white/10 rounded-xl flex-shrink-0",children:s!=null&&s.isCompleted?e.jsx(_,{className:"w-7 sm:w-8 h-7 sm:h-8 text-green-400"}):e.jsx(ge,{className:"w-7 sm:w-8 h-7 sm:h-8 text-amber-400"})}),e.jsxs("div",{className:"w-full",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-300 mb-1",children:"Project Status"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs sm:text-sm ${s!=null&&s.isCompleted?"bg-green-500/20 text-green-400":"bg-amber-500/20 text-amber-400"}`,children:s!=null&&s.isCompleted?"Completed":"In Progress"}),!(s!=null&&s.isCompleted)&&e.jsxs("span",{className:"text-xs sm:text-sm text-gray-400",children:["Est. completion: ",s.estimatedCompletion]})]})]})]})}),e.jsx(m.div,{whileHover:{y:-5},className:"p-4 sm:p-5 md:p-6 bg-white/5 backdrop-blur-lg rounded-2xl border border-white/10 hover:border-white/20 transition-all",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-white/10 rounded-xl flex-shrink-0",children:s.clientConfirmation.isConfirmed?e.jsx(ue,{className:"w-7 sm:w-8 h-7 sm:h-8 text-green-400"}):e.jsx(be,{className:"w-7 sm:w-8 h-7 sm:h-8 text-amber-400"})}),e.jsxs("div",{className:"w-full",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-300 mb-1",children:"Client Confirmation"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs sm:text-sm ${s.clientConfirmation.isConfirmed?"bg-green-500/20 text-green-400":"bg-amber-500/20 text-amber-400"}`,children:s.clientConfirmation.isConfirmed?"Confirmed":"Pending Approval"}),s.clientConfirmation.isConfirmed&&e.jsxs("span",{className:"text-xs sm:text-sm text-gray-400",children:["Confirmed on:"," ",new Date(s.clientConfirmation.date).toLocaleDateString()]})]})]})]})})]})]}),e.jsx(ve,{stage:s,handleApproveMaterial:z,loadingapprovematerial:p}),e.jsxs("div",{className:"mt-6 mb-6",children:[e.jsx("h3",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Daily Updates"}),e.jsx(we,{stage:s})]}),e.jsx("div",{className:"notify",children:e.jsx(je,{stage:s,onClientConfirm:W})})]},s._id):null),F&&e.jsx("p",{className:"text-green-500 text-center mt-4",children:F}),h&&e.jsx("p",{className:"text-red-500 text-center mt-4",children:h})]})]})};export{ke as default};
