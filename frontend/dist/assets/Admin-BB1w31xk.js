import{h as C,u as S,ah as A,r as n,j as e,m as r,U as D,N,A as v,X as L,ai as _,aj as M,x as $,S as U,i as w,O}from"./index-Dx2eBsby.js";import{L as j,M as z,D as f}from"./DecryptData-CcOPpIXm.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=C("FolderOpenDot",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}],["circle",{cx:"14",cy:"15",r:"1",key:"1gm4qj"}]]),k=[{id:1,label:"Dashboard",icon:M,link:"/db_au_admn",color:"from-blue-500 to-cyan-500",bgColor:"bg-blue-500/10",hoverColor:"hover:bg-blue-500/20",borderColor:"border-blue-400/30",description:"Overview & Analytics"},{id:2,label:"Users",icon:$,link:"/db_au_admn/userprofile",color:"from-green-500 to-emerald-500",bgColor:"bg-green-500/10",hoverColor:"hover:bg-green-500/20",borderColor:"border-green-400/30",description:"User Management"},{id:3,label:"Projects",icon:H,link:"/db_au_admn/projectusers",color:"from-purple-500 to-pink-500",bgColor:"bg-purple-500/10",hoverColor:"hover:bg-purple-500/20",borderColor:"border-purple-400/30",description:"Project Overview"},{id:4,label:"Settings",icon:U,link:"/db_au_admn/admn-setting",color:"from-orange-500 to-red-500",bgColor:"bg-orange-500/10",hoverColor:"hover:bg-orange-500/20",borderColor:"border-orange-400/30",description:"System Configuration"}],T=({connection:l,admin:d})=>{const p=S(),g=A(),[s,y]=n.useState(window.innerWidth<=1024),[b,c]=n.useState(!1),[u,x]=n.useState(!1);n.useState(null);const m=t=>g.pathname===t,h=()=>c(!b),o=async()=>{var t,a;try{x(!1),(await w.post(`${l}/api/adminauth/logout`,{},{withCredentials:!0})).status===200&&p("/admn-sign")}catch(i){alert((a=(t=i.response)==null?void 0:t.data)==null?void 0:a.message)}};return n.useEffect(()=>{const t=()=>{y(window.innerWidth<=1024),window.innerWidth>1024&&c(!1)};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(r.header,{className:"fixed top-0 left-0 right-0 z-50 bg-black/20 backdrop-blur-3xl border-b border-white/10 shadow-[0_8px_32px_0_rgba(0,0,0,0.3)]",initial:{y:-100},animate:{y:0},transition:{duration:.8,ease:"easeOut"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/[0.02] via-white/[0.05] to-white/[0.02]"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-20 lg:h-24",children:[e.jsxs(r.div,{className:"flex items-center space-x-4",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:.3,duration:.6},children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"flex items-center justify-center w-14 h-14 bg-gradient-to-br from-white/20 to-white/5 backdrop-blur-xl rounded-2xl border border-white/30 shadow-[0_8px_32px_0_rgba(255,255,255,0.1)]",children:e.jsx(D,{className:"w-7 h-7 text-white"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white/20 animate-pulse"})]}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-white tracking-tight",children:(d==null?void 0:d.username)||"Admin Panel"}),e.jsx("p",{className:"text-sm text-white/70 font-medium tracking-wide",children:"Administrator Dashboard"})]})]}),!s&&e.jsx(r.nav,{className:"hidden lg:flex items-center space-x-3",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},children:k.map((t,a)=>e.jsx(r.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.6+a*.1,duration:.5},children:e.jsxs(N,{to:t.link,className:({isActive:i})=>`group relative flex flex-col items-center px-6 py-4 rounded-2xl transition-all duration-300 transform hover:scale-105 ${i?"bg-white/15 text-white shadow-[0_8px_32px_0_rgba(255,255,255,0.1)] border border-white/30 backdrop-blur-xl":"text-white/80 hover:text-white hover:bg-white/10 hover:shadow-[0_8px_32px_0_rgba(255,255,255,0.05)] hover:border hover:border-white/20 hover:backdrop-blur-xl"}`,end:t.link==="/db_au_admn",children:[e.jsxs("div",{className:"relative",children:[e.jsx(t.icon,{className:"w-6 h-6 mb-2 transition-transform duration-300 group-hover:scale-110 text-white"}),m(t.link)&&e.jsx(r.div,{className:`absolute -inset-2 bg-gradient-to-r ${t.color} opacity-10 rounded-xl blur-sm`,layoutId:"activeGlow",transition:{type:"spring",bounce:.2,duration:.6}})]}),e.jsx("span",{className:"text-sm font-semibold text-white tracking-wide",children:t.label}),e.jsx("span",{className:"text-xs text-white/60 mt-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:t.description}),m(t.link)&&e.jsx(r.div,{className:`absolute inset-0 bg-gradient-to-r ${t.color} opacity-5 rounded-2xl pointer-events-none`,layoutId:"activeBackground",transition:{type:"spring",bounce:.2,duration:.6}})]})},t.id))}),e.jsxs("div",{className:"flex items-center space-x-4",children:[!s&&e.jsxs(r.button,{className:"group relative flex items-center px-6 py-3 bg-red-500/10 hover:bg-red-500/20 text-white border border-red-400/30 hover:border-red-400/50 rounded-2xl transition-all duration-500 backdrop-blur-xl shadow-[0_8px_32px_0_rgba(239,68,68,0.1)] hover:shadow-[0_12px_40px_0_rgba(239,68,68,0.2)] transform hover:scale-105",onClick:()=>x(!0),initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:.8,duration:.6},whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(j,{className:"w-5 h-5 mr-3 group-hover:rotate-12 transition-transform duration-300 text-white"}),e.jsx("span",{className:"text-sm font-semibold text-white",children:"Logout"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/5 to-red-600/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),s&&e.jsx(r.button,{onClick:h,className:"relative flex items-center justify-center w-12 h-12 bg-white/10 hover:bg-white/20 rounded-2xl transition-all duration-300 border border-white/20 backdrop-blur-xl shadow-[0_8px_32px_0_rgba(255,255,255,0.1)]",whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},transition:{delay:.8,duration:.6},children:e.jsx(v,{mode:"wait",children:b?e.jsx(r.div,{initial:{rotate:-180,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:180,opacity:0},transition:{duration:.3},children:e.jsx(L,{className:"w-6 h-6 text-white"})},"close"):e.jsx(r.div,{initial:{rotate:180,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-180,opacity:0},transition:{duration:.3},children:e.jsx(z,{className:"w-6 h-6 text-white"})},"menu")})})]})]})})]}),e.jsx(v,{children:s&&b&&e.jsxs(e.Fragment,{children:[e.jsx(r.div,{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:h}),e.jsxs(r.div,{className:"fixed top-20 lg:top-24 right-4 w-80 max-w-[calc(100vw-2rem)] bg-black/30 backdrop-blur-3xl rounded-3xl border border-white/20 shadow-[0_20px_40px_0_rgba(0,0,0,0.5)] z-50 overflow-hidden",initial:{opacity:0,scale:.9,y:-30},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-30},transition:{duration:.3,ease:"easeOut"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.05] to-white/[0.02]"}),e.jsx("div",{className:"relative p-6",children:e.jsxs("div",{className:"space-y-3",children:[k.map((t,a)=>e.jsx(r.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:a*.1,duration:.4},children:e.jsxs(N,{to:t.link,className:({isActive:i})=>`group flex items-center justify-between px-5 py-4 rounded-2xl transition-all duration-500 ${i?`${t.bgColor} text-white border ${t.borderColor} shadow-[0_8px_32px_0_rgba(255,255,255,0.1)]`:`text-white/80 hover:text-white ${t.hoverColor} hover:border hover:${t.borderColor}`}`,end:t.link==="/db_au_admn",onClick:h,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`p-2 ${t.bgColor} rounded-xl mr-4 border ${t.borderColor}`,children:e.jsx(t.icon,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-white block",children:t.label}),e.jsx("span",{className:"text-xs text-white/60",children:t.description})]})]}),e.jsx(_,{className:"w-4 h-4 text-white/60 group-hover:text-white transition-colors duration-300"})]})},t.id)),e.jsx(r.div,{className:"pt-4 mt-4 border-t border-white/20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.4},children:e.jsxs("button",{className:"group flex items-center justify-between w-full px-5 py-4 bg-red-500/10 hover:bg-red-500/20 text-white border border-red-400/30 hover:border-red-400/50 rounded-2xl transition-all duration-500 backdrop-blur-xl",onClick:()=>{x(!0),c(!1)},children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-500/20 rounded-xl mr-4 border border-red-400/30",children:e.jsx(j,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-white block",children:"Logout"}),e.jsx("span",{className:"text-xs text-white/60",children:"Sign out of admin panel"})]})]}),e.jsx(_,{className:"w-4 h-4 text-white/60 group-hover:text-white transition-colors duration-300"})]})})]})})]})]})}),e.jsx(v,{children:u&&e.jsx(r.div,{className:"fixed inset-0 flex items-center justify-center bg-black/80 backdrop-blur-md p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsxs(r.div,{className:"bg-black/40 backdrop-blur-3xl p-10 rounded-3xl shadow-[0_20px_40px_0_rgba(0,0,0,0.5)] text-center max-w-md w-full border border-white/20 relative overflow-hidden",initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{duration:.4,ease:"easeOut"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.05] to-white/[0.02]"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx(r.div,{className:"flex items-center justify-center w-20 h-20 bg-red-500/20 rounded-3xl mx-auto mb-6 border border-red-400/30 backdrop-blur-xl",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,duration:.5,type:"spring"},children:e.jsx(j,{className:"w-10 h-10 text-red-400"})}),e.jsx(r.h2,{className:"text-3xl font-bold text-white mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},children:"Confirm Logout"}),e.jsx(r.p,{className:"text-white/70 mb-8 leading-relaxed text-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},children:"Are you sure you want to log out of your admin session?"}),e.jsxs(r.div,{className:"flex gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},children:[e.jsx(r.button,{onClick:o,className:"flex-1 px-8 py-4 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 hover:border-red-400/50 text-red-300 hover:text-red-200 rounded-2xl transition-all duration-300 font-semibold backdrop-blur-xl shadow-[0_8px_32px_0_rgba(239,68,68,0.2)] text-white",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Yes, Logout"}),e.jsx(r.button,{onClick:()=>x(!1),className:"flex-1 px-8 py-4 bg-white/10 hover:bg-white/20 border border-white/20 hover:border-white/30 text-white hover:text-white rounded-2xl transition-all duration-300 font-semibold backdrop-blur-xl shadow-[0_8px_32px_0_rgba(255,255,255,0.1)]",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"})]})]})]})})}),e.jsx("div",{className:"h-20 lg:h-24"})]})},I=()=>{const l="https://electricaapp.vercel.app",[d,p]=n.useState(""),[g,s]=n.useState([]),[y,b]=n.useState([]),[c,u]=n.useState(""),x=async()=>{var o,t;try{const a=await w.get(`${l}/api/adminAuth/get_admin`,{withCredentials:!0});if(a.status===200&&a.data.encryptedData){const i=f(a.data.encryptedData);setTimeout(()=>{p(i)},1080)}else p("")}catch(a){p(""),u((t=(o=a.response)==null?void 0:o.data)==null?void 0:t.message)}},m=async()=>{var o,t;try{const a=await w.get(`${l}/api/adminAuth/get_all_users`,{withCredentials:!0});if(a.status===200&&a.data.encryptedData){const i=f(a.data.encryptedData);setTimeout(()=>{s(i)},1001)}else s([])}catch(a){s([]),u((t=(o=a.response)==null?void 0:o.data)==null?void 0:t.message)}},h=async()=>{var o,t;try{const a=await w.get(`${l}/api/adminauth/project-details`,{withCredentials:!0});if(a.status===200&&a.data.encryptedData){const i=f(a.data.encryptedData);setTimeout(()=>{b(i)},1001)}else s([])}catch(a){s([]),u((t=(o=a.response)==null?void 0:o.data)==null?void 0:t.message)}};return n.useEffect(()=>{x(),m(),h()},[]),e.jsxs("div",{className:"flex flex-col min-h-screen text-white",children:[e.jsx(T,{connection:l,admin:d}),e.jsxs("main",{className:"flex-1 p-1 lg:p-2 mt-8",children:[" ",e.jsx("div",{className:"max-w-full mx-auto",children:e.jsxs("div",{className:"md:p-5 p-2",children:[c&&e.jsx("p",{children:c}),e.jsx(O,{context:{admin:d,users:g,projects:y,fetchUsers:m,fetchProject:h,electricaURL:l}})]})})]})]})};export{I as default};
